import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as e,f as o,b as n,e as s,d as p}from"./app-CUJPFFrd.js";const c={},l=n("h1",{id:"结合两个数据库表结构生成修改表字段语句",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#结合两个数据库表结构生成修改表字段语句"},[n("span",null,"结合两个数据库表结构生成修改表字段语句")])],-1),i=n("h2",{id:"原因",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#原因"},[n("span",null,"原因")])],-1),r=n("ul",null,[n("li",null,[s("同时存在 A 和 B 两个数据库，其中 A 库具有完整注释但字段长度及是否为空不确定，B 库字段长度及是否为空准确但缺少注释，"),n("br"),s(" 由于修改注释同时也会修改字段长度和是否为空限制，现需将二者结合。")])],-1),u=p(`<h2 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法"><span>解决方法</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;alter table &#39;</span><span class="token punctuation">,</span>ct<span class="token punctuation">.</span>TABLE_NAME<span class="token punctuation">,</span><span class="token string">&#39; modify &#39;</span><span class="token punctuation">,</span>ct<span class="token punctuation">.</span>COLUMN_NAME<span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span>rt<span class="token punctuation">.</span>COLUMN_TYPE<span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span><span class="token keyword">CASE</span> rt<span class="token punctuation">.</span>IS_NULLABLE
	<span class="token keyword">WHEN</span> <span class="token string">&#39;YES&#39;</span> <span class="token keyword">THEN</span>
		<span class="token string">&#39;NULL&#39;</span>
	<span class="token keyword">ELSE</span>
		<span class="token string">&#39;NOT NULL&#39;</span>
<span class="token keyword">END</span><span class="token punctuation">,</span><span class="token string">&#39; comment &#39;</span><span class="token punctuation">,</span><span class="token string">&quot;&#39;&quot;</span><span class="token punctuation">,</span>ct<span class="token punctuation">.</span>COLUMN_COMMENT<span class="token punctuation">,</span><span class="token string">&quot;&#39;&quot;</span><span class="token punctuation">,</span><span class="token string">&#39;;&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> 
<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> INFORMATION_SCHEMA<span class="token punctuation">.</span><span class="token keyword">COLUMNS</span> <span class="token keyword">WHERE</span> TABLE_SCHEMA <span class="token operator">=</span> <span class="token string">&#39;A&#39;</span> <span class="token punctuation">)</span> ct
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span>
<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> INFORMATION_SCHEMA<span class="token punctuation">.</span><span class="token keyword">COLUMNS</span> <span class="token keyword">WHERE</span> TABLE_SCHEMA <span class="token operator">=</span> <span class="token string">&#39;B&#39;</span> <span class="token punctuation">)</span> rt <span class="token keyword">ON</span> ct<span class="token punctuation">.</span>TABLE_NAME <span class="token operator">=</span> rt<span class="token punctuation">.</span>TABLE_NAME <span class="token operator">AND</span> ct<span class="token punctuation">.</span>COLUMN_NAME <span class="token operator">=</span> rt<span class="token punctuation">.</span>COLUMN_NAME
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>最终会生成修改表字段的多条语句</li></ul>`,3);function d(k,m){return t(),e("div",null,[l,i,r,o(" more "),u])}const g=a(c,[["render",d],["__file","alter-column.html.vue"]]),N=JSON.parse('{"path":"/posts/coding-related/datasource/alter-column.html","title":"结合两个数据库表结构生成修改表字段语句","lang":"zh-CN","frontmatter":{"title":"结合两个数据库表结构生成修改表字段语句","icon":"fa-solid fa-database","description":"原因 同时存在 A 和 B 两个数据库，其中 A 库具有完整注释但字段长度及是否为空不确定，B 库字段长度及是否为空准确但缺少注释， 由于修改注释同时也会修改字段长度和是否为空限制，现需将二者结合。","head":[["meta",{"property":"og:url","content":"https://zjiac.github.io/tech-arch-doc/tech-arch-doc/posts/coding-related/datasource/alter-column.html"}],["meta",{"property":"og:site_name","content":"zJiac 个人知识体系"}],["meta",{"property":"og:title","content":"结合两个数据库表结构生成修改表字段语句"}],["meta",{"property":"og:description","content":"原因 同时存在 A 和 B 两个数据库，其中 A 库具有完整注释但字段长度及是否为空不确定，B 库字段长度及是否为空准确但缺少注释， 由于修改注释同时也会修改字段长度和是否为空限制，现需将二者结合。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-20T02:08:45.000Z"}],["meta",{"property":"article:author","content":"zJiaC"}],["meta",{"property":"article:modified_time","content":"2024-04-20T02:08:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"结合两个数据库表结构生成修改表字段语句\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-20T02:08:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"zJiaC\\",\\"url\\":\\"https://zjiac.github.io/tech-arch-doc/\\"}]}"]]},"headers":[{"level":2,"title":"原因","slug":"原因","link":"#原因","children":[]},{"level":2,"title":"解决方法","slug":"解决方法","link":"#解决方法","children":[]}],"git":{"createdTime":1677035872000,"updatedTime":1713578925000,"contributors":[{"name":"zJiaC","email":"425226133@qq.com","commits":2}]},"readingTime":{"minutes":0.64,"words":193},"filePathRelative":"posts/coding-related/datasource/alter-column.md","localizedDate":"2023年2月22日","excerpt":"\\n<h2>原因</h2>\\n<ul>\\n<li>同时存在 A 和 B 两个数据库，其中 A 库具有完整注释但字段长度及是否为空不确定，B 库字段长度及是否为空准确但缺少注释，<br>\\n由于修改注释同时也会修改字段长度和是否为空限制，现需将二者结合。</li>\\n</ul>\\n","autoDesc":true}');export{g as comp,N as data};
