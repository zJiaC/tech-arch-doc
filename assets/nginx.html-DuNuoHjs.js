import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as s,o,c as l,f as d,b as e,e as t,a as i,d as r}from"./app-CArpxNNo.js";const c={},h=e("h1",{id:"nginx",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#nginx"},[e("span",null,"Nginx")])],-1),p=e("h2",{id:"强制-http-跳转-https",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#强制-http-跳转-https"},[e("span",null,"强制 HTTP 跳转 HTTPS")])],-1),m={id:"使用-nginx-将-http-重定向到-https",tabindex:"-1"},g={class:"header-anchor",href:"#使用-nginx-将-http-重定向到-https"},u={href:"https://mincong.io/cn/redirect-traffic-to-https-nginx/",target:"_blank",rel:"noopener noreferrer"},_=r(`<ul><li>配置重定向:</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>  server {
    listen       80;
    server_name  _;
    return       301 https://$host$request_uri;
  }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),x={href:"http://sever.info",target:"_blank",rel:"noopener noreferrer"},v={href:"http://www.sever.info",target:"_blank",rel:"noopener noreferrer"},T={id:"项目处于安全考虑-通过-nginx-强制-http-转换成-https-但遇到报-get-不支持错误。",tabindex:"-1"},f={class:"header-anchor",href:"#项目处于安全考虑-通过-nginx-强制-http-转换成-https-但遇到报-get-不支持错误。"},b={href:"https://blog.csdn.net/qq_42760638/article/details/118515698",target:"_blank",rel:"noopener noreferrer"},N=r(`<div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>	server {
        ***
        //返回301永久重定向，307也是临时重定向，但它可以保持原请求的方法，不做修改的访问新地址。
-        return       301 https://$host$request_uri;
+        return       307 https://$host$request_uri;
        ***
	}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3xx-重定向" tabindex="-1"><a class="header-anchor" href="#_3xx-重定向"><span>3XX 重定向</span></a></h3><ul><li>301 Moved Permanently : 永久性重定向</li><li>302 Found : 临时性重定向</li><li>303 See Other : 和- 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源。 注: 虽然 HTTP 协议规定 301、302 状态下重定向时不允许把 POST 方法改成 GET 方法，但是大多数浏览器都会在 301、302 和 303 状态下的重定向把 POST 方法改成 GET 方法。</li><li>304 Not Modified : 如果请求报文首部包含一些条件，例如: If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码。</li><li>307 Temporary Redirect : 临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。</li></ul>`,3),P={href:"https://www.pdai.tech/md/develop/protocol/dev-protocol-http.html#url",target:"_blank",rel:"noopener noreferrer"};function y(S,k){const n=s("ExternalLinkIcon");return o(),l("div",null,[h,d(" more "),p,e("h3",m,[e("a",g,[e("span",null,[e("a",u,[t("使用 Nginx 将 HTTP 重定向到 HTTPS"),i(n)])])])]),_,e("p",null,[t("!> 这里的服务器名字(server name)是个通配符_：也就是无论 URL 中包含什么域名，当请求到达 Nginx 服务器以后，都会被重定向到 HTTPS。比如说，无论是 "),e("a",x,[t("http://sever.info"),i(n)]),t(" 还是 "),e("a",v,[t("http://www.sever.info"),i(n)]),t(" 都会被重定向到它们相应的 HTTPS 链接。")]),e("h3",T,[e("a",f,[e("span",null,[e("a",b,[t("项目处于安全考虑，通过 nginx 强制 http 转换成 https，但遇到报 GET 不支持错误。"),i(n)])])])]),N,e("p",null,[t("!> "),e("a",P,[t("网络协议 - HTTP 协议详解"),i(n)])])])}const z=a(c,[["render",y],["__file","nginx.html.vue"]]),E=JSON.parse('{"path":"/posts/question/nginx.html","title":"Nginx","lang":"zh-CN","frontmatter":{"icon":"nginx","order":7,"date":"2022-04-29T00:00:00.000Z","category":["问题","运维"],"tag":["Nginx"],"head":[["meta",{"property":"og:url","content":"https://zjiac.github.io/tech-arch-doc/tech-arch-doc/posts/question/nginx.html"}],["meta",{"property":"og:site_name","content":"zJiac 个人知识体系"}],["meta",{"property":"og:title","content":"Nginx"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-06-14T07:49:08.000Z"}],["meta",{"property":"article:author","content":"zJiaC"}],["meta",{"property":"article:tag","content":"Nginx"}],["meta",{"property":"article:published_time","content":"2022-04-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-06-14T07:49:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Nginx\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-04-29T00:00:00.000Z\\",\\"dateModified\\":\\"2022-06-14T07:49:08.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"zJiaC\\",\\"url\\":\\"https://zjiac.github.io/tech-arch-doc/\\"}]}"]]},"headers":[{"level":2,"title":"强制 HTTP 跳转 HTTPS","slug":"强制-http-跳转-https","link":"#强制-http-跳转-https","children":[{"level":3,"title":"使用 Nginx 将 HTTP 重定向到 HTTPS","slug":"使用-nginx-将-http-重定向到-https","link":"#使用-nginx-将-http-重定向到-https","children":[]},{"level":3,"title":"项目处于安全考虑，通过 nginx 强制 http 转换成 https，但遇到报 GET 不支持错误。","slug":"项目处于安全考虑-通过-nginx-强制-http-转换成-https-但遇到报-get-不支持错误。","link":"#项目处于安全考虑-通过-nginx-强制-http-转换成-https-但遇到报-get-不支持错误。","children":[]},{"level":3,"title":"3XX  重定向","slug":"_3xx-重定向","link":"#_3xx-重定向","children":[]}]}],"git":{"createdTime":1655109051000,"updatedTime":1655192948000,"contributors":[{"name":"zJiaC","email":"jc456123","commits":2}]},"readingTime":{"minutes":1.43,"words":430},"filePathRelative":"posts/question/nginx.md","localizedDate":"2022年4月29日","excerpt":"\\n"}');export{z as comp,E as data};
